{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/index.js","webpack:///./src/assets/addSliders.js","webpack:///./src/assets/dataHelper.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","d3","select","append","attr","lifeExpectancy","container","data","range","numCols","y","scaleBand","domain","x","selectAll","enter","Math","floor","style","yearsScale","scaleLinear","yearsAxis","axisBottom","ticks","g","remove","drawGraph","currentYear","Date","getFullYear","years","map","yearSlider","sliderLeft","min","max","step","width","height","tickFormat","timeFormat","default","on","val","text","months","monthSlider","days","daySlider","addSliders","weekHover","document","getElementById","addEventListener","calculateExpectancy","querySelectorAll","forEach","e","innerHTML","currentTarget","id","dataObj","csv","then","CountryName","1960","1961","1962","1963","1964","1965","1966","1967","1968","1969","1970","1971","1972","1973","1974","1975","1976","1977","1978","1979","1980","1981","1982","1983","1984","1985","1986","1987","1988","1989","1990","1991","1992","1993","1994","1995","1996","1997","1998","1999","2000","2001","2002","2003","2004","2005","2006","2007","2008","2009","2010","2011","2012","2013","2014","2015","2016","2017","2018","2019","2020","dataRow","countryList","concat","keys","birthYear","birthMonth","birthDay","weeksLived","weeksRemaining","country","lifeData","today","bday","indexOf","currentWeek","lived","toLocaleString","useGrouping","remaining","className","push","join","config","attributes","childList","characterData","subtree","observer","MutationObserver","observe"],"mappings":"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","file":"main.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/dist/\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n","import \"./styles/index.scss\";\nimport { dataRow } from './assets/dataHelper.js';\nimport { addSliders } from './assets/addSliders.js';\n//import { calculateExpectancy } from './scripts/calculateExpectancy.js';\n\n\nd3.select(\"body\").append(\"div\").attr(\"id\", \"year-slider\");\nd3.select(\"body\").append(\"div\").attr(\"id\", \"month-slider\");\nd3.select(\"body\").append(\"div\").attr(\"id\", \"day-slider\");\nd3.select(\"body\").append(\"div\").attr(\"id\", \"gender-option\");\nd3.select(\"body\").append(\"div\").attr(\"id\", \"country-option\");\n\nlet selectedCountry;\nlet lifeExpectancy = 2743;  //this will be a calculated value\n\ndrawGraph();\naddSliders();\n\nconst weekHover = document.getElementById(\"week-hover\");\n\ndocument.getElementById(\"country-list\").addEventListener('change', ()=>calculateExpectancy());\ndocument.querySelectorAll('rect').forEach(r => {\n  r.addEventListener('mouseover', (e)=>{\n    //console.log(e.currentTarget.id);\n    weekHover.innerHTML = `Week #: ${e.currentTarget.id}`;\n    \n  });\n})\n\n//source https://data.worldbank.org/indicator/SP.DYN.LE00.IN\n//life expectancy at birth, by country\nlet dataObj = {};\nd3.csv(\"./src/assets/API_SP.DYN.LE00.IN_DS2_en_csv_v2_1740384.csv\").then(data => {\n  data.map(d=>{\n      dataObj[d['Country Name']] = dataRow(d);\n  });\n  \n  const countryList = d3.select(\"#country-list\");\n\n  countryList.selectAll('option')\n    .data(['None'].concat(Object.keys(dataObj)))\n    .enter()\n      .append(\"option\")\n      .attr(\"value\", d => d)\n      .attr(\"selected\", d => {\n        if (d === \"United States\"){\n          return \"selected\";\n        };\n      })\n      .text(d => d);\n\n      \n  countryList.select(d=>{\n  });  \n});\n\n\n\nfunction drawGraph(){\n  const height = 1000;\n  const width = 500;\n\n  const svg = d3.select(\"#life-chart\").append(\"svg\")//.attr(\"viewBox\", `0, 0, ${width/2}, ${height/2}`);\n                .attr(\"width\", width)\n                .attr(\"height\", height);\n\n  const container = svg.append(\"g\")\n                    .attr(\"transform\", \"translate(2,2)\");\n\n  const numRows = 100;\n  const numCols = 52;\n\n  const data = d3.range(numCols*numRows);\n\n  const y = d3.scaleBand()\n            .range([0,height])\n            .domain(d3.range(numRows));\n\n  const x = d3.scaleBand()\n            .range([0,width])\n            .domain(d3.range(numCols));\n        \n\n  container.selectAll(\"square\")\n      .data(data)\n      .enter().append(\"rect\")\n      .attr(\"id\", function(d){return d})\n      .attr(\"rx\", 1)\n      .attr(\"ry\", 1)\n      .attr(\"x\", function(d){return x(d%numCols);})\n      .attr(\"y\", function(d){return y(Math.floor(d/numCols));})\n      .attr(\"width\",6)\n      .attr(\"height\", 6)\n      .style(\"stroke-width\", .5)\n      //.style(\"fill\", \"none\")\n      .attr(\"class\", function(d){return d <= lifeExpectancy ? \"pre\" : \"post\"})\n      //.style(\"stroke\", \"black\");\n\n\n//add axes \nconst yearsScale = d3.scaleLinear().domain([0,100]).range([0,height]);\nconst yearsAxis = d3.axisBottom(yearsScale).ticks(50);\n\n  d3.select(\"body\").append(\"svg\")\n    .attr(\"width\", height)\n    .attr(\"height\", width)\n    .append(\"g\")\n    .attr(\"transform\", \"translate(0,30)\")\n    .call(yearsAxis).call(g => {\n      g.select(\".domain\")\n      .remove();\n      g.selectAll('line').attr(\"transform\", \"translate(0, 18)\");}\n    )\n}\n\n\n\n\nconst calculateExpectancy = () => {\n  const birthYear = document.getElementById(\"year-display\").innerHTML;\n  const birthMonth = document.getElementById(\"month-display\").innerHTML;\n  const birthDay = document.getElementById(\"day-display\").innerHTML;\n  const weeksLived = document.getElementById(\"weeks-lived\");\n  const weeksRemaining = document.getElementById(\"weeks-remaining\");\n\n  const country = document.getElementById(\"country-list\").value;\n  const monthsArray = [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"]\n\n  //get data from csv\n  const lifeData = dataObj[country][birthYear];\n   \n\n  lifeExpectancy = Math.floor(lifeData*52.14); //weeks per year\n  //calculate current week\n  const today = new Date();\n  const bday = new Date(+birthYear, monthsArray.indexOf(birthMonth),+birthDay);\n    \n  const currentWeek = Math.floor(((today-bday)/(1000*60*60*24*365))*52.14);\n  let lived = (currentWeek - 1).toLocaleString('en', { useGrouping: true });\n  let remaining = (lifeExpectancy - currentWeek).toLocaleString('en', { useGrouping: true })\n  weeksLived.innerHTML = `Weeks Lived: ${lived}`;\n  weeksRemaining.innerHTML = `Weeks Remaining: ${remaining}`;\n\n\n  d3.selectAll('rect')\n    .attr('class', (d,i)=>{\n      // debugger;\n      let className = [];\n      if (d === currentWeek){\n        className.push('current-week'); \n      };\n      if (d<currentWeek) {\n        className.push(\"lived\");\n      };\n      if (d< lifeExpectancy){\n        className.push(\"pre\");\n      };\n      if (d > lifeExpectancy){\n        className.push(\"post\");\n      };\n      if (d === lifeExpectancy){\n        className.push(\"yahtzee\");\n      };\n      return className.join(' ');\n\n    })\n}\n\n\n\n//event listeners for sliders\nconst config = { attributes: true,\n                childList: true,\n                characterData: true,\n                subtree: true, };\nconst observer = new MutationObserver(()=>calculateExpectancy());\nobserver.observe(document.getElementById(\"year-display\"), config);\nobserver.observe(document.getElementById(\"month-display\"), config);\nobserver.observe(document.getElementById(\"day-display\"), config);\n","import { calculateExpectancy } from '../scripts/calculateExpectancy.js';\n\n\nexport const addSliders = ()=>{\n  const currentYear = new Date().getFullYear();\n  const years = d3.range(0, currentYear - 1960 + 1).map(d => new Date(1960 + d, 0, 1));\n  \n  //year slider\n  const yearSlider = d3.sliderLeft()\n    .min(d3.min(years))\n    .max(d3.max(years))\n    .step(1000 * 60 * 24 * 365)\n    .width(300)\n    .height(300)\n    .tickFormat(d3.timeFormat('%Y'))\n    //.tickValues(years)\n    .default(new Date(1980, 0, 1))\n    .on('onchange', val => {\n      d3.select('#year-display').text(d3.timeFormat('%Y')(val));\n      //calculateExpectancy();\n    });\n\n  const gTime = d3.select('#year-slider')\n    .append('svg')\n    .attr('width', 100)\n    .attr('height', 400)\n    .append('g')\n    .attr('transform', 'translate(60,30)');\n\n  gTime.call(yearSlider);\n  d3.select('#year-display').text(d3.timeFormat('%Y')(yearSlider.value()));\n\n  //months slider\n  const months = d3.range(0, 12).map(d => new Date(1900, d, 1));\n  const monthSlider = d3.sliderLeft()\n    .min(d3.min(months))\n    .max(d3.max(months))\n    .step(1)\n    .width(300)\n    .height(300)\n    .tickFormat(d3.timeFormat('%b'))\n    .default(new Date(1900,5))\n    .on('onchange', val => {\n      d3.select('#month-display').text(d3.timeFormat('%b')(val));\n      //calculateExpectancy();\n    });\n\n  const gTimeMonth = d3.select('#month-slider')\n    .append('svg')\n    .attr('width', 100)\n    .attr('height', 400)\n    .append('g')\n    .attr('transform', 'translate(60,30)');\n\n  gTimeMonth.call(monthSlider);\n  d3.select('#month-display').text(d3.timeFormat('%b')(monthSlider.value()));\n\n\n  //Day Slider\n  //months slider\n  const days = d3.range(1, 32);\n  const daySlider = d3.sliderLeft()\n    .min(d3.min(days))\n    .max(d3.max(days))\n    .step(1)\n    .width(300)\n    .height(300)\n    .ticks(31)\n    .default(15)\n    .on('onchange', val => {\n      d3.select('#day-display').text((val));\n      //calculateExpectancy();\n    });\n\n  const gTimeDay = d3.select('#day-slider')\n    .append('svg')\n    .attr('width', 100)\n    .attr('height', 400)\n    .append('g')\n    .attr('transform', 'translate(60,30)');\n\n  gTimeDay.call(daySlider);\n  d3.select('#day-display').text((daySlider.value()));\n}","export const dataRow = d => {\n  \n  return {\n    CountryName: d[\"Country Name\"],\n    1960: +d['1960'],\n    1961: +d['1961'],\n    1962: +d['1962'],\n    1963: +d['1963'],\n    1964: +d['1964'],\n    1965: +d['1965'],\n    1966: +d['1966'],\n    1967: +d['1967'],\n    1968: +d['1968'],\n    1969: +d['1969'],\n    1970: +d['1970'],\n    1971: +d['1971'],\n    1972: +d['1972'],\n    1973: +d['1973'],\n    1974: +d['1974'],\n    1975: +d['1975'],\n    1976: +d['1976'],\n    1977: +d['1977'],\n    1978: +d['1978'],\n    1979: +d['1979'],\n    1980: +d['1980'],\n    1981: +d['1981'],\n    1982: +d['1982'],\n    1983: +d['1983'],\n    1984: +d['1984'],\n    1985: +d['1985'],\n    1986: +d['1986'],\n    1987: +d['1987'],\n    1988: +d['1988'],\n    1989: +d['1989'],\n    1990: +d['1990'],\n    1991: +d['1991'],\n    1992: +d['1992'],\n    1993: +d['1993'],\n    1994: +d['1994'],\n    1995: +d['1995'],\n    1996: +d['1996'],\n    1997: +d['1997'],\n    1998: +d['1998'],\n    1999: +d['1999'],\n    2000: +d['2000'],\n    2001: +d['2001'],\n    2002: +d['2002'],\n    2003: +d['2003'],\n    2004: +d['2004'],\n    2005: +d['2005'],\n    2006: +d['2006'],\n    2007: +d['2007'],\n    2008: +d['2008'],\n    2009: +d['2009'],\n    2010: +d['2010'],\n    2011: +d['2011'],\n    2012: +d['2012'],\n    2013: +d['2013'],\n    2014: +d['2014'],\n    2015: +d['2015'],\n    2016: +d['2016'],\n    2017: +d['2017'],\n    2018: +d['2018'],\n    2019: +d['2019'],\n    2020: +d['2020'],\n  }\n};"],"sourceRoot":""}